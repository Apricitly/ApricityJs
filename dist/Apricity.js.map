{"version":3,"file":"Apricity.js","sources":["../src/parse/handle.js","../src/parse/generation.js","../src/parse/parseData.js","../src/http/index.js","../src/proxy/index.js","../src/init.js","../src/index.js"],"sourcesContent":["/**\r\n * 生成get请求url\r\n * @param {string} url\r\n * @param {string} methods\r\n * @param {object} data\r\n * @returns\r\n */\r\nexport function handleGetUrl(url, data, Apricity) {\r\n  //生成url前的判断\r\n  if (typeof url != \"string\") throw new Error(\"Url has musted be String\");\r\n  const { baseUrl = null } = Apricity.config || {};\r\n  let __stagingUrl;\r\n\r\n  baseUrl != null ? (__stagingUrl = baseUrl + url) : (__stagingUrl = url);\r\n\r\n  if (typeof data !== \"object\") return __stagingUrl;\r\n\r\n  const keyArr = Object.keys(data);\r\n  if (keyArr.length === 1) {\r\n    __stagingUrl = __stagingUrl + \"?\" + keyArr[0] + \"=\" + data[keyArr[0]];\r\n  } else {\r\n    for (let index in keyArr) {\r\n      if (index === \"0\")\r\n        __stagingUrl =\r\n          __stagingUrl + \"?\" + keyArr[index] + \"=\" + data[keyArr[index]];\r\n      else\r\n        __stagingUrl =\r\n          __stagingUrl + \"&\" + keyArr[index] + \"=\" + data[keyArr[index]];\r\n    }\r\n  }\r\n\r\n  return __stagingUrl;\r\n}\r\n\r\n/**\r\n * 生成post请求url\r\n * @param {string} url\r\n * @returns\r\n */\r\nexport function handlePostUrl(url, Apricity) {\r\n  if (typeof url != \"string\") throw new Error(\"Url has musted be String\");\r\n\r\n  const { baseUrl = null } = Apricity.config || {};\r\n  let __stagingUrl;\r\n\r\n  __stagingUrl = baseUrl != null ? baseUrl + url : url;\r\n\r\n  return __stagingUrl;\r\n}\r\n","import { Buffer } from \"buffer\";\r\n\r\n/**\r\n *生成请求参数\r\n * @param {object} handledUrl\r\n * @param {string} method\r\n * @returns\r\n */\r\nexport function generateOptions(handledUrl, method, data, Apricity) {\r\n  if (method === \"get\") {\r\n    const { headers = null } = Apricity.config || {};\r\n    if (headers === null && !data) {\r\n      return {\r\n        hostname: handledUrl.hostname,\r\n        port: handledUrl.port,\r\n        path: handledUrl.pathname + handledUrl.search,\r\n        method: method,\r\n      };\r\n    }\r\n    let optionsHeaders;\r\n\r\n    if (data && data.headers) {\r\n      optionsHeaders =\r\n        headers != null ? { ...headers, ...data.headers } : data.headers;\r\n    } else {\r\n      optionsHeaders = headers != null ? { ...headers } : {};\r\n    }\r\n\r\n    return {\r\n      hostname: handledUrl.hostname,\r\n      port: handledUrl.port,\r\n      path: handledUrl.pathname + handledUrl.search,\r\n      method: method,\r\n      headers: optionsHeaders,\r\n    };\r\n  } else if (method === \"post\") {\r\n    let header = {};\r\n\r\n    for (const key in data) {\r\n      if (key === \"config\") {\r\n        const { headers = null } = Apricity.config || {};\r\n        if (headers === null && !data[key]) {\r\n          return {\r\n            hostname: handledUrl.hostname,\r\n            port: handledUrl.port,\r\n            path: handledUrl.pathname,\r\n            method: method,\r\n          };\r\n        }\r\n\r\n        if (data[key] && data[key][\"headers\"]) {\r\n          header =\r\n            headers != null\r\n              ? { ...headers, ...data[key][\"headers\"] }\r\n              : data[key][\"headers\"];\r\n        } else {\r\n          header = headers != null ? { ...headers } : {};\r\n        }\r\n      } else if (key === \"params\") {\r\n        Object.defineProperties(header, {\r\n          \"Content-Length\": {\r\n            value: Buffer.byteLength(JSON.stringify(data[key])),\r\n            writable: true,\r\n            configurable: true,\r\n          },\r\n        });\r\n      }\r\n    }\r\n\r\n    return {\r\n      hostname: handledUrl.hostname,\r\n      port: handledUrl.port,\r\n      path: handledUrl.pathname,\r\n      method: method,\r\n      headers: header,\r\n    };\r\n  }\r\n}\r\n","const decode = new TextDecoder();\r\n\r\n/**\r\n * 处理二进制数据\r\n * @param {ArrayBuffer} chunk\r\n */\r\nexport function parseData(chunk) {\r\n  const stringData = decode.decode(chunk);\r\n  if (stringData.startsWith(\"{\") || stringData.startsWith(\"[\"))\r\n    return JSON.parse(stringData);\r\n  else return stringData;\r\n}\r\n","import http from \"http\";\r\nimport { parseData } from \"../parse/parseData.js\";\r\n\r\nconst result = {\r\n  code: 0,\r\n  data: null,\r\n  methods: \"\",\r\n  message: \"\",\r\n  url: \"\",\r\n  isTimeOut: null,\r\n  isCancel: null,\r\n  isRedirect: null,\r\n};\r\n\r\nfunction sendSuccessResult(request, options, res) {\r\n  result.code = 200;\r\n  result.data = parseData(request);\r\n  result.methods = options.method;\r\n  result.message = res.statusMessage;\r\n  result.url = options.url;\r\n  result.isTimeOut = false;\r\n  result.isCancel = false;\r\n  result.isRedirect = res.statusCode >= 300 && res.statusCode < 400;\r\n\r\n  return result;\r\n}\r\n\r\nfunction sendErrorResult(error, options) {\r\n  result.code = 500;\r\n  result.data = null;\r\n  result.methods = options.method;\r\n  result.message = error.message;\r\n  result.url = options.url;\r\n  result.isTimeOut = error.code === \"ETIMEDOUT\";\r\n  result.isCancel = error.code === \"ECONNABORTED\";\r\n  result.isRedirect = false;\r\n\r\n  return result;\r\n}\r\n\r\nexport function sendGetHttp(options, resolve, reject, afterRequest, Apricity) {\r\n  const _fun = Apricity;\r\n\r\n  const req = http.request(options, (res) => {\r\n    let request;\r\n\r\n    res.on(\"data\", (chunk) => {\r\n      request = chunk;\r\n    });\r\n\r\n    res.on(\"end\", () => {\r\n      try {\r\n        const resultSuccess = sendSuccessResult(request, options, res);\r\n        resolve(resultSuccess);\r\n      } catch (error) {\r\n        const resultError = sendErrorResult(error, options);\r\n\r\n        reject(resultError);\r\n      }\r\n    });\r\n  });\r\n\r\n  if (_fun.config && _fun.config.timeout) {\r\n    let timeoutId = setTimeout(() => {\r\n      req.abort();\r\n      clearTimeout(timeoutId);\r\n      reject(new Error(\"Request timeout\"));\r\n    }, Apricity.config.timeout);\r\n  }\r\n  req.on(\"error\", (error) => {\r\n    const resultError = sendErrorResult(error, options);\r\n    reject(resultError);\r\n  });\r\n\r\n  req.end();\r\n\r\n  if (afterRequest && typeof afterRequest === \"function\") afterRequest();\r\n}\r\n\r\nexport function sendPostHttp(\r\n  options,\r\n  resolve,\r\n  reject,\r\n  afterRequest,\r\n  params,\r\n  Apricity\r\n) {\r\n  const _fun = Apricity;\r\n\r\n  const req = http.request(options, (res) => {\r\n    let request;\r\n\r\n    res.on(\"data\", (chunk) => {\r\n      request = chunk;\r\n    });\r\n\r\n    res.on(\"end\", () => {\r\n      try {\r\n        const resultSuccess = sendSuccessResult(request, options, res);\r\n        resolve(resultSuccess);\r\n      } catch (error) {\r\n        const resultError = sendErrorResult(error, options);\r\n\r\n        reject(resultError);\r\n      }\r\n    });\r\n  });\r\n\r\n  req.write(JSON.stringify(params));\r\n\r\n  if (_fun.config && _fun.config.timeout) {\r\n    let timeoutId = setTimeout(() => {\r\n      req.abort();\r\n      clearTimeout(timeoutId);\r\n      reject(new Error(\"Request timeout\"));\r\n    }, _fun.config.timeout);\r\n  }\r\n\r\n  req.on(\"error\", (error) => {\r\n    const resultError = sendErrorResult(error, options);\r\n\r\n    reject(resultError);\r\n  });\r\n\r\n  req.end();\r\n\r\n  if (afterRequest && typeof afterRequest === \"function\") afterRequest();\r\n}\r\n","/**\r\n * 自定义代理对象\r\n * @param {Object} obj 需要代理的对象\r\n * @param {String} target 被代理到的目标对象\r\n */\r\nexport function defineProxy(obj, target, key) {\r\n  Object.defineProperty(obj, key, {\r\n    get() {\r\n      return obj[target][key];\r\n    },\r\n\r\n    set(val) {\r\n      obj[target][key] = val;\r\n    },\r\n  });\r\n}\r\n","import { URL } from \"url\";\r\nimport { handleGetUrl, handlePostUrl } from \"./parse/handle.js\";\r\nimport { generateOptions } from \"./parse/generation.js\";\r\nimport { sendGetHttp, sendPostHttp } from \"./http/index.js\";\r\nimport { defineProxy } from \"./proxy/index.js\";\r\n\r\n/**\r\n * 通用函数\r\n */\r\nfunction _genericFun(method, url, data, config, params, Apricity) {\r\n  if (method === \"get\") {\r\n    const fixedUrl = handleGetUrl(url, data.params, Apricity);\r\n    const handledUrl = new URL(fixedUrl);\r\n    return generateOptions(handledUrl, method, data.config, Apricity);\r\n  } else if (method === \"post\") {\r\n    const fixedUrl = handlePostUrl(url, Apricity);\r\n    const handleUrl = new URL(fixedUrl);\r\n    return generateOptions(handleUrl, method, { config, params }, Apricity);\r\n  }\r\n}\r\n\r\nfunction beforeRequestConfig(fun, config, params) {\r\n  if (!fun && typeof fun !== \"function\") {\r\n    return;\r\n  }\r\n\r\n  if (config) {\r\n    fun(config, params);\r\n  } else {\r\n    fun(params);\r\n  }\r\n}\r\n\r\n/**\r\n *初始化Apricity\r\n * @param {Function} Apricity\r\n */\r\nexport function initMixin(Apricity) {\r\n  if (!Apricity) return;\r\n\r\n  Apricity.prototype.get = function (url, data, beforeRequest, afterRequest) {\r\n    beforeRequestConfig(beforeRequest, this.config, data);\r\n\r\n    const options = _genericFun(\"get\", url, data, null, null, this);\r\n\r\n    return new Promise((resolve, reject) => {\r\n      sendGetHttp(options, resolve, reject, afterRequest, this);\r\n    });\r\n  };\r\n\r\n  Apricity.prototype.post = function (\r\n    url,\r\n    config,\r\n    params,\r\n    beforeRequest,\r\n    afterRequest\r\n  ) {\r\n    beforeRequestConfig(beforeRequest, this.config, { config, params });\r\n\r\n    const options = _genericFun(\"post\", url, null, config, params, this);\r\n    return new Promise((resolve, reject) => {\r\n      sendPostHttp(options, resolve, reject, afterRequest, params, this);\r\n    });\r\n  };\r\n\r\n  Apricity.prototype._init = function (config) {\r\n    Object.defineProperty(this, \"config\", {\r\n      value: config,\r\n      writable: true,\r\n      enumerable: false,\r\n      configurable: true,\r\n    });\r\n\r\n    const proxyConfig = this.config;\r\n    for (const key in proxyConfig) defineProxy(this, \"config\", key);\r\n  };\r\n\r\n  Apricity.prototype.custom = function () {\r\n    const _this = this;\r\n    function getKV(config) {\r\n      let data;\r\n      let beforeRequest;\r\n      let afterRequest;\r\n      let configs;\r\n      let params;\r\n\r\n      for (const key in config) {\r\n        switch (key) {\r\n          case \"data\":\r\n            data = config.data;\r\n            break;\r\n          case \"beforeRequest\":\r\n            beforeRequest = config.beforeRequest;\r\n            break;\r\n          case \"afterRequest\":\r\n            afterRequest = config.afterRequest;\r\n            break;\r\n          case \"configs\":\r\n            configs = config.configs;\r\n            break;\r\n          case \"params\":\r\n            params = config.params;\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      }\r\n\r\n      return { data, beforeRequest, afterRequest, configs, params };\r\n    }\r\n\r\n    return function (config) {\r\n      const { method, url } = config;\r\n      if (!method || !url) throw new Error(`method or url is allowed`);\r\n\r\n      if (method === \"get\") {\r\n        const { data, beforeRequest, afterRequest, configs } = getKV(config);\r\n        return _this.get(\r\n          url,\r\n          { params: data, config: configs },\r\n          beforeRequest,\r\n          afterRequest\r\n        );\r\n      }\r\n\r\n      if (method === \"post\") {\r\n        const { beforeRequest, afterRequest, configs, params } = getKV(config);\r\n\r\n        return this.post(url, configs, params, beforeRequest, afterRequest);\r\n      }\r\n    };\r\n  };\r\n}\r\n","import { initMixin } from \"./init.js\";\r\n\r\nfunction Apricity(config) {\r\n  if (typeof config === \"object\") this._init(config);\r\n  else if (typeof config === \"function\") {\r\n    const setFunOptions = {\r\n      baseUrl: \"\",\r\n      timeout: 10000,\r\n      headers: {},\r\n      redirect: undefined,\r\n    };\r\n    const setedFunOptions = config(setFunOptions);\r\n    this._init(setedFunOptions);\r\n  }\r\n}\r\n\r\ninitMixin(Apricity);\r\n\r\nexport default Apricity;\r\n"],"names":["handleGetUrl","url","data","Apricity","Error","_ref","config","_ref$baseUrl","baseUrl","__stagingUrl","_typeof","keyArr","Object","keys","length","index","handlePostUrl","_ref2","_ref2$baseUrl","generateOptions","handledUrl","method","_ref$headers","headers","hostname","port","path","pathname","search","optionsHeaders","_objectSpread","header","key","_ref2$headers","defineProperties","value","Buffer","byteLength","JSON","stringify","writable","configurable","decode","TextDecoder","parseData","chunk","stringData","startsWith","parse","result","code","methods","message","isTimeOut","isCancel","isRedirect","sendSuccessResult","request","options","res","statusMessage","statusCode","sendErrorResult","error","sendGetHttp","resolve","reject","afterRequest","_fun","req","http","on","resultSuccess","resultError","timeout","timeoutId","setTimeout","abort","clearTimeout","end","sendPostHttp","params","write","defineProxy","obj","target","defineProperty","get","set","val","_genericFun","fixedUrl","URL","handleUrl","beforeRequestConfig","fun","initMixin","prototype","beforeRequest","_this2","Promise","post","_this3","_init","enumerable","proxyConfig","custom","_this","getKV","configs","_getKV","_getKV2","setFunOptions","redirect","undefined","setedFunOptions"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}